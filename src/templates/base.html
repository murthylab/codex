<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="{{ url_for('styles', filename='base.css') }}">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <!-- Title -->
    <title>{% block title %}CoDE{% endblock title %}</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="/favicon.ico">

    <!-- Full Story -->
    <script>
      window['_fs_host'] = 'fullstory.com';
      window['_fs_script'] = 'edge.fullstory.com/s/fs.js';
      window['_fs_org'] = 'o-1DZDFA-na1';
      window['_fs_namespace'] = 'FS';
      (function(m,n,e,t,l,o,g,y){
          if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
          g=m[e]=function(a,b,s){g.q?g.q.push([a,b,s]):g._api(a,b,s);};g.q=[];
          o=n.createElement(t);o.async=1;o.crossOrigin='anonymous';o.src='https://'+_fs_script;
          y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
          g.identify=function(i,v,s){g(l,{uid:i},s);if(v)g(l,v,s)};g.setUserVars=function(v,s){g(l,v,s)};g.event=function(i,v,s){g('event',{n:i,p:v},s)};
          g.anonymize=function(){g.identify(!!0)};
          g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
          g.log = function(a,b){g("log",[a,b])};
          g.consent=function(a){g("consent",!arguments.length||a)};
          g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
          g.clearUserCookie=function(){};
          g.setVars=function(n, p){g('setVars',[n,p]);};
          g._w={};y='XMLHttpRequest';g._w[y]=m[y];y='fetch';g._w[y]=m[y];
          if(m[y])m[y]=function(){return g._w[y].apply(this,arguments)};
          g._v="1.3.0";
      })(window,document,window['_fs_namespace'],'script','user');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-between">
      <a id='nav_home' class="navbar-brand mb-0 h1" href="{{url_for('index')}}"><img width="30.6px" height="17.7px" src="{{url_for('asset', filename='code-icon-color.png')}}">&nbsp; CoDE</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" id="nav_search" href="{{url_for('search')}}">Search</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav_cell_details" href="{{url_for('cell_details')}}">Cell Info</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav_stats" href="{{url_for('stats')}}">Stats</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav_explore" href="{{url_for('explore')}}">Explore</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav_labeling_suggestions" href="{{url_for('labeling_suggestions')}}">Labeling Suggestions</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav_nblast" href="{{url_for('nblast')}}">NBLAST</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav_path_length" href="{{url_for('path_length')}}">Path Length</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav_faq" href="{{url_for('faq')}}">FAQ</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav_about" href="{{url_for('about')}}">About</a>
          </li>

          <script>
              function nav_elem_id(cur_url) {
                let tabs = ['search', 'cell_details', 'stats', 'explore', 'labeling_suggestions', 'nblast', 'path_length', 'faq', 'about'];
                for (const tab of tabs){
                    if (cur_url.includes(tab)) {
                      return 'nav_' + tab;
                    }
                }
                return 'nav_home';
              }
              elem_id = nav_elem_id(window.location.href);
              document.getElementById(elem_id).style.color = 'blue';
          </script>
        </ul>
      </div>
    </nav>

    <div id="contentBody">
    {% block content %} {% endblock content %}
    </div>

    <div id="snackbar">
      <a class="btn btn-sm btn-link my-2 my-sm-0" style="color: red;" href="{{url_for('wip')}}">!! This is a Work in Progress !!</a>
    </div>

    <div id="loadingSpinner" hidden="hidden">
      <div class="d-flex justify-content-center" style="margin: 50px;">
        <strong style="margin-right: 20px;">Loading...</strong>
        <div class="spinner-border" role="status" aria-hidden="true" style="color: blue;"></div>
      </div>
    </div>

    <script type="text/javascript">
        function loading() {
            document.getElementById("contentBody").hidden='true';
            document.getElementById("loadingSpinner").hidden='';
            window.onunload = function(){
              clear_loading();
            };
        }
        function clear_loading() {
            document.getElementById("contentBody").hidden='';
            document.getElementById("loadingSpinner").hidden='true';
        }
    </script>


    <!-- Bootstrap Bundle with Popper -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js" integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf" crossorigin="anonymous"></script>
  </body>

</html>